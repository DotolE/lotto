<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í™©ê¸ˆì† ë¡œë˜ - ë¬´ë£Œ ë¶„ì„ê¸° (ë¹„ì˜ë¦¬ í¬íŠ¸í´ë¦¬ì˜¤)</title>
    
    <meta name="google-site-verification" content="2KgdugryQOXFn8k0f9ApE60RRK2_W6_HLx0-Q7rhN8s" />
    <meta name="naver-site-verification" content="b83da244a1e5342f9eb5f41a0a00521e799407a3" />
    
    <meta name="description" content="ë¹„ì˜ë¦¬ ëª©ì ìœ¼ë¡œ ìš´ì˜ë˜ëŠ” ë¬´ë£Œ ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°. ê³ ì •ìˆ˜/ì œì™¸ìˆ˜ ì„¤ì • ë° ë¹…ë°ì´í„° ë¶„ì„ ì•Œê³ ë¦¬ì¦˜ ì—°êµ¬ìš© í¬íŠ¸í´ë¦¬ì˜¤ì…ë‹ˆë‹¤.">
    <meta name="keywords" content="ë¡œë˜ë²ˆí˜¸ìƒì„±ê¸°, ë¬´ë£Œë¡œë˜, ë¡œë˜ì—°êµ¬, ì•Œê³ ë¦¬ì¦˜í•™ìŠµ, ë¹„ì˜ë¦¬í”„ë¡œì íŠ¸">
    <meta name="author" content="í™©ê¸ˆì†">
    <meta property="og:title" content="ğŸ’° í™©ê¸ˆì† ë¡œë˜ (ì—°êµ¬ìš© ë¬´ë£Œ)">
    <meta property="og:description" content="ì½”ë”© ì—°êµ¬ ë° ìê¸°ê³„ë°œì„ ìœ„í•´ ì œì‘ëœ ë¹„ì˜ë¦¬ ë¬´ë£Œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.">
    <meta property="og:image" content="https://cdn-icons-png.flaticon.com/512/1055/1055646.png">
    
    <style>
        @font-face {
            font-family: 'GmarketSansMedium';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansMedium.woff') format('woff');
            font-weight: normal; font-style: normal;
        }

        body {
            font-family: 'GmarketSansMedium', sans-serif;
            background-color: #f0f2f5;
            display: flex; flex-direction: column; /* ì„¸ë¡œ ì •ë ¬ */
            align-items: center;
            min-height: 100vh; margin: 0; padding: 20px; box-sizing: border-box;
            color: #333;
        }

        .container {
            background-color: white; padding: 2rem 1.5rem;
            border-radius: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            text-align: center; width: 100%; max-width: 450px;
            margin-bottom: 30px; /* í‘¸í„°ì™€ ê°„ê²© */
        }

        h1 { color: #2c3e50; margin: 10px 0; font-size: 1.8rem; word-break: keep-all; }
        .subtitle { color: #7f8c8d; font-size: 0.95rem; margin-bottom: 20px; }

        #result-container { min-height: 120px; margin: 20px 0; }
        .numbers-container {
            display: flex; justify-content: center; align-items: center;
            gap: 6px; margin: 12px 0; padding-bottom: 12px;
            border-bottom: 1px solid #f0f0f0; animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .ball {
            width: 32px; height: 32px; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            font-weight: bold; color: white; font-size: 14px;
            box-shadow: inset -2px -2px 5px rgba(0,0,0,0.2), 2px 5px 5px rgba(0,0,0,0.15);
        }

        .option-toggle-btn {
            background: #e3f2fd; border: 1px solid #2196F3; color: #1976D2;
            padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer;
            margin-bottom: 15px; display: inline-flex; align-items: center; gap: 5px;
        }
        #option-panel {
            display: none; background: #f8f9fa; padding: 15px; border-radius: 15px;
            margin-bottom: 20px; border: 1px solid #ddd; text-align: left;
        }
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; font-size: 14px; margin-bottom: 5px; color: #333; font-weight: bold; }
        .input-field {
            width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px;
            box-sizing: border-box; font-size: 15px;
        }

        .main-btn {
            width: 100%; background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white; border: none; padding: 18px 0; font-size: 18px; font-weight: bold;
            border-radius: 15px; cursor: pointer; box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
            margin-bottom: 15px;
        }
        .main-btn:active { transform: scale(0.97); }

        .action-group { display: none; flex-direction: column; gap: 10px; margin-top: 10px; }
        .action-btn {
            width: 100%; padding: 15px 0; border: none; border-radius: 12px;
            font-size: 16px; font-weight: bold; cursor: pointer;
            display: flex; justify-content: center; align-items: center; gap: 8px;
        }
        .btn-save { background-color: #2196F3; color: white; }
        .btn-copy { background-color: #34495e; color: white; }
        .btn-kakao { background-color: #FEE500; color: #3c1e1e; }

        .history-box {
            margin-top: 40px; padding: 20px; background: #fff8e1;
            border-radius: 15px; border: 2px dashed #ffca28; text-align: left;
        }
        .history-list { font-size: 0.9rem; max-height: 200px; overflow-y: auto; }
        
        .content-box { 
            text-align: left; margin-top: 50px; padding-top: 20px; 
            border-top: 2px solid #eee; color: #555; line-height: 1.6; font-size: 0.9rem; 
            animation: fadeIn 0.8s;
        }
        .content-box h3 { color: #FF5722; margin-top: 10px; border-left: 4px solid #FF5722; padding-left: 10px; }
        .tip-badge { background: #FF5722; color: white; padding: 2px 8px; border-radius: 10px; font-size: 11px; vertical-align: middle; margin-right: 5px; }

        /* ğŸ‘‡ [ì¤‘ìš”] ë¹„ì˜ë¦¬ ì•ˆë‚´ í‘¸í„° ìŠ¤íƒ€ì¼ */
        .footer-info {
            text-align: center; color: #999; font-size: 0.8rem; margin-top: 20px; line-height: 1.5;
            max-width: 450px;
        }
        .footer-info strong { color: #555; }

        .yellow { background-color: #fbc400; } .blue { background-color: #69c8f2; }
        .red { background-color: #ff7272; } .gray { background-color: #aaaaaa; } .green { background-color: #b0d840; }
    </style>
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.1/kakao.min.js"></script>
</head>
<body>

    <div class="container">
        <div id="latest-win-box" style="background-color: #f8f9fa; padding: 15px; margin-bottom: 20px; border-radius: 15px; display: none; border: 1px solid #eee;">
            <h3 style="margin: 0 0 5px 0; font-size: 1.1rem;">ğŸ† <span id="drwNo">0000</span>íšŒ ë‹¹ì²¨ê²°ê³¼</h3>
            <p style="font-size: 0.8em; color: #888; margin: 0 0 10px 0;" id="drwDate">-</p>
            <div id="win-numbers" style="display: flex; justify-content: center; gap: 4px; flex-wrap: wrap;"></div>
        </div>

        <h1>ğŸ° ì´ë²ˆ ì£¼ ì£¼ì¸ê³µì€ ë‚˜!</h1>
        <p class="subtitle">ë¹…ë°ì´í„° ì•Œê³ ë¦¬ì¦˜ ì—°êµ¬ìš© ìƒì„±ê¸°</p>
        
        <button class="option-toggle-btn" onclick="toggleOptions()">âš™ï¸ ê³ ì •ìˆ˜/ì œì™¸ìˆ˜ ì„¤ì •</button>
        <div id="option-panel">
            <div class="input-group">
                <label>ğŸ“Œ ê³ ì •ìˆ˜ (ë¬´ì¡°ê±´ í¬í•¨ / ìµœëŒ€ 5ê°œ)</label>
                <input type="text" id="fixed-nums" class="input-field" placeholder="ì˜ˆ: 1, 7, 45 (ì‰¼í‘œë¡œ êµ¬ë¶„)">
            </div>
            <div class="input-group">
                <label>ğŸš« ì œì™¸ìˆ˜ (ì ˆëŒ€ ì•ˆ ë‚˜ì˜´)</label>
                <input type="text" id="exclude-nums" class="input-field" placeholder="ì˜ˆ: 4, 13 (ì‰¼í‘œë¡œ êµ¬ë¶„)">
            </div>
        </div>

        <div id="result-container">
            <div style="color:#ccc; margin-top: 60px;">ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”</div>
        </div>

        <button class="main-btn" onclick="generateLotto()">âœ¨ ë²ˆí˜¸ ìƒì„±í•˜ê¸° (5ê²Œì„)</button>
        
        <div id="action-box" class="action-group">
            <button class="action-btn btn-save" onclick="saveToHistory()"><span>ğŸ’¾</span> ë³´ê´€í•¨ì— ì €ì¥</button>
            <button class="action-btn btn-copy" onclick="copyNumbers()"><span>ğŸ“‹</span> ì „ì²´ ë³µì‚¬</button>
            <button class="action-btn btn-kakao" onclick="shareKakao()"><span>ğŸ’¬</span> ì¹´ì¹´ì˜¤í†¡ ê³µìœ </button>
        </div>

        <div class="history-box">
            <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                <strong>ğŸ“‚ ë³´ê´€í•¨</strong>
                <span onclick="clearHistory()" style="cursor:pointer; font-size:12px; color:#999;">ë¹„ìš°ê¸°</span>
            </div>
            <div id="history-list" class="history-list"><div style="color:#ccc;">ê¸°ë¡ ì—†ìŒ</div></div>
        </div>
        
        <div id="random-tip-area" class="content-box"></div>
    </div>

    <footer class="footer-info">
        <p>
            <strong>ğŸš§ ë¹„ì˜ë¦¬ í¬íŠ¸í´ë¦¬ì˜¤ ì•ˆë‚´</strong><br>
            ë³¸ ì„œë¹„ìŠ¤ëŠ” ê°œë°œìì˜ ì½”ë”© ì—°êµ¬ ë° ìê¸°ê³„ë°œì„ ìœ„í•´ ì œì‘ëœ<br>
            <strong>ë¹„ì˜ë¦¬ ì›¹ì‚¬ì´íŠ¸</strong>ì´ë©°, ì–´ë– í•œ ìˆ˜ìµë„ ì°½ì¶œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
            (ê´‘ê³  X, í›„ì› X, ì˜ë¦¬ í™œë™ X)
        </p>
        <p style="font-size: 0.7rem; margin-top: 10px;">
            * ìƒì„±ëœ ë²ˆí˜¸ëŠ” ë¬´ì‘ìœ„ ê²°ê³¼ì´ë©° ë‹¹ì²¨ì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
            Â© 2024 í™©ê¸ˆì† ë¡œë˜. All rights reserved.
        </p>
    </footer>

<script>
    const YOUR_KAKAO_KEY = 'af275756cd7eed0e7fc105037bc62673'; 
    const shareUrl = 'https://mylotto123.com';
    let currentNumbers = []; 

    const tips = [
        { title: "ğŸ“Š ë¡œë˜ í™•ë¥ ì˜ ìˆ˜í•™ì  ë¶„ì„", content: `<p>ë¡œë˜ 1ë“± í™•ë¥ ì€ 814ë§Œ ë¶„ì˜ 1ì…ë‹ˆë‹¤. ëª¨ë“  ë²ˆí˜¸ ì¡°í•©ì€ ìˆ˜í•™ì ìœ¼ë¡œ ë™ì¼í•œ í™•ë¥ ì„ ê°€ì§‘ë‹ˆë‹¤.</p>` },
        { title: "ğŸŒ™ ëŒ€ë°•ì„ ë¶€ë¥´ëŠ” ê¿ˆ í•´ëª½", content: `<p>ë¼ì§€ ê¿ˆ, ì¡°ìƒë‹˜ ê¿ˆ, ë¶ˆë‚˜ëŠ” ê¿ˆì€ ëŒ€í‘œì ì¸ íš¡ì¬ìˆ˜ ê¸¸ëª½ì…ë‹ˆë‹¤.</p>` },
        { title: "ğŸ”¥ ê³ ìˆ˜ë“¤ì˜ ì „ëµ: í•« & ì½œë“œ", content: `<p>ìµœê·¼ ìì£¼ ë‚˜ì˜¨ ë²ˆí˜¸(Hot)ì™€ ì˜¤ë«ë™ì•ˆ ì•ˆ ë‚˜ì˜¨ ë²ˆí˜¸(Cold)ë¥¼ ì ì ˆíˆ ì„ì–´ë³´ì„¸ìš”.</p>` },
        { title: "ğŸ€ 1ë“± ë‹¹ì²¨ìë“¤ì˜ ê³µí†µì ", content: `<p>ë§ì€ ë‹¹ì²¨ìë“¤ì´ 'ìë™' ë°˜, 'ìˆ˜ë™' ë°˜ìœ¼ë¡œ ì†Œì•¡ì„ ê¾¸ì¤€íˆ êµ¬ë§¤í–ˆë‹¤ê³  í•©ë‹ˆë‹¤.</p>` },
        { title: "âš ï¸ ê±´ì „í•œ ë³µê¶Œ ë¬¸í™”", content: `<p>ë³µê¶Œì€ ì†Œì•¡ìœ¼ë¡œ ì¦ê¸°ëŠ” ë ˆì €ì…ë‹ˆë‹¤. ê³¼ëª°ì…ì„ í”¼í•˜ê³  ê°€ë³ê²Œ ì¦ê¸°ì„¸ìš”.</p>` }
    ];

    function displayRandomTip() {
        const tipBox = document.getElementById('random-tip-area');
        const randomIndex = Math.floor(Math.random() * tips.length);
        const selectedTip = tips[randomIndex];
        tipBox.innerHTML = `<h3><span class="tip-badge">TIP ${randomIndex + 1}</span> ${selectedTip.title}</h3>${selectedTip.content}`;
    }

    function toggleOptions() {
        const panel = document.getElementById('option-panel');
        panel.style.display = (panel.style.display === 'block') ? 'none' : 'block';
    }

    function parseAndValidate(inputStr, fieldName) {
        if (!inputStr.trim()) return [];
        if (inputStr.includes(' ') && !inputStr.includes(',')) {
            alert(`âš ï¸ [${fieldName}] ì˜¤ë¥˜:\nìˆ«ì ì‚¬ì´ì—ëŠ” ë°˜ë“œì‹œ ì‰¼í‘œ(,)ë¥¼ ì°ì–´ì£¼ì„¸ìš”!`);
            throw new Error("Comma Missing");
        }
        const parts = inputStr.split(',');
        const result = [];
        for (let p of parts) {
            let strVal = p.trim();
            if (strVal === '') continue;
            if (isNaN(strVal)) {
                alert(`âš ï¸ [${fieldName}] ì˜¤ë¥˜:\n"${strVal}"ì€(ëŠ”) ìˆ«ìê°€ ì•„ë‹™ë‹ˆë‹¤.`);
                throw new Error("NaN Error");
            }
            let num = parseInt(strVal);
            if (num < 1 || num > 45) {
                alert(`âš ï¸ [${fieldName}] ì˜¤ë¥˜:\n1~45 ì‚¬ì´ ìˆ«ìë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.`);
                throw new Error("Range Error");
            }
            if (result.includes(num)) {
                alert(`âš ï¸ [${fieldName}] ì˜¤ë¥˜:\n${num}ë²ˆì„ ì¤‘ë³µ ì…ë ¥í•˜ì…¨ìŠµë‹ˆë‹¤.`);
                throw new Error("Duplicate Error");
            }
            result.push(num);
        }
        return result;
    }

    function generateLotto() {
        const fixedInput = document.getElementById('fixed-nums').value;
        const excludeInput = document.getElementById('exclude-nums').value;

        try {
            const fixedList = parseAndValidate(fixedInput, "ê³ ì •ìˆ˜");
            const excludeList = parseAndValidate(excludeInput, "ì œì™¸ìˆ˜");

            if (fixedList.length > 5) { alert("âš ï¸ ê³ ì •ìˆ˜ëŠ” ìµœëŒ€ 5ê°œê¹Œì§€!"); return; }
            const conflict = fixedList.filter(x => excludeList.includes(x));
            if (conflict.length > 0) { alert(`âš ï¸ ì¶©ëŒ!\n${conflict.join(', ')}ë²ˆì€ ê³ ì •ìˆ˜ì´ì ì œì™¸ìˆ˜ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`); return; }
            if (fixedList.length + excludeList.length > 39) { alert("âš ï¸ ì œì™¸ëœ ìˆ«ìê°€ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤."); return; }

            const container = document.getElementById('result-container');
            container.innerHTML = ''; 
            currentNumbers = []; 

            for (let i = 0; i < 5; i++) {
                let numbers = [...fixedList];
                while (numbers.length < 6) {
                    const num = Math.floor(Math.random() * 45) + 1;
                    if (!numbers.includes(num) && !excludeList.includes(num)) {
                        numbers.push(num);
                    }
                }
                numbers.sort((a, b) => a - b);
                currentNumbers.push(numbers);

                const row = document.createElement('div');
                row.className = 'numbers-container';
                const label = document.createElement('span');
                label.innerText = String.fromCharCode(65 + i); 
                label.style.fontWeight = 'bold'; label.style.marginRight = '8px'; label.style.width = '20px'; label.style.color = '#555';
                row.appendChild(label);

                numbers.forEach(num => {
                    const ball = document.createElement('div');
                    ball.className = `ball ${getColorClass(num)}`;
                    ball.textContent = num;
                    if(fixedList.includes(num)) {
                        ball.style.border = "2px solid #333"; ball.style.transform = "scale(1.1)";
                    }
                    row.appendChild(ball);
                });

                setTimeout(() => {
                    container.appendChild(row);
                    if (i === 4) {
                        fireConfetti();
                        document.getElementById('action-box').style.display = 'flex';
                    }
                }, i * 150);
            }
        } catch (e) { console.error(e); }
    }

    function saveToHistory() {
        if(currentNumbers.length === 0) return alert("ë²ˆí˜¸ë¥¼ ë¨¼ì € ìƒì„±í•´ì£¼ì„¸ìš”.");
        let history = JSON.parse(localStorage.getItem('lottoHistory')) || [];
        history.unshift({ date: new Date().toLocaleString(), nums: currentNumbers });
        localStorage.setItem('lottoHistory', JSON.stringify(history));
        alert("ë³´ê´€í•¨ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!");
        renderHistory();
    }

    function renderHistory() {
        const list = document.getElementById('history-list');
        const history = JSON.parse(localStorage.getItem('lottoHistory')) || [];
        if(history.length === 0) { list.innerHTML = '<div style="color:#ccc; text-align:center;">ê¸°ë¡ ì—†ìŒ</div>'; return; }
        list.innerHTML = '';
        history.forEach((item) => {
            const div = document.createElement('div');
            div.style.borderBottom = "1px solid #eee"; div.style.padding = "10px 0";
            let numText = "";
            item.nums.forEach((set, i) => { numText += `<div><b>${String.fromCharCode(65 + i)}</b>: ${set.join(', ')}</div>`; });
            div.innerHTML = `<div style="font-size:11px; color:#aaa;">${item.date}</div><div style="font-family:monospace; margin-top:5px;">${numText}</div>`;
            list.appendChild(div);
        });
    }
    function clearHistory() { if(confirm("ê¸°ë¡ì„ ë¹„ìš°ì‹œê² ìŠµë‹ˆê¹Œ?")) { localStorage.removeItem('lottoHistory'); renderHistory(); } }

    function fireConfetti() { if(typeof confetti !== 'undefined') confetti({ origin: { y: 0.7 } }); }
    function copyNumbers() {
        const rows = document.querySelectorAll('.numbers-container');
        if(rows.length===0) return;
        let t = 'ğŸ€ ë¡œë˜ 5ê²Œì„ ğŸ€\n';
        rows.forEach((r, i) => { t += String.fromCharCode(65+i) + ': ' + r.innerText.replace(String.fromCharCode(65+i), '').trim().replace(/\n/g, ' ') + '\n'; });
        navigator.clipboard.writeText(t).then(()=>alert('ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!')).catch(()=>alert('ì‹¤íŒ¨'));
    }
    function shareKakao() { if(typeof Kakao !== 'undefined') Kakao.Share.sendScrap({ requestUrl: shareUrl }); }
    function getColorClass(n) { if(n<=10) return 'yellow'; if(n<=20) return 'blue'; if(n<=30) return 'red'; if(n<=40) return 'gray'; return 'green'; }

    window.onload = function() {
        try { if(typeof Kakao !== 'undefined' && !Kakao.isInitialized()) Kakao.init(YOUR_KAKAO_KEY); } catch(e){}
        fetchLottoNumbers(); 
        renderHistory();
        displayRandomTip();
    };

    async function fetchLottoNumbers() {
        const resultBox = document.getElementById('latest-win-box');
        const startDate = new Date('2002-12-07');
        const now = new Date();
        const daysDiff = (now - startDate) / (1000 * 3600 * 24);
        let round = Math.floor(daysDiff / 7) + 1;
        if (now.getDay() === 6 && now.getHours() < 21) round -= 1; 

        try {
            const res = await fetch(`https://corsproxy.io/?${encodeURIComponent('https://www.dhlottery.co.kr/common.do?method=getLottoNumber&drwNo=' + round)}`);
            const data = JSON.parse(await res.text());
            if (data.returnValue === 'success' && resultBox) {
                resultBox.style.display = 'block';
                document.getElementById('drwNo').innerText = data.drwNo;
                document.getElementById('drwDate').innerText = `(${data.drwNoDate})`;
                const winDiv = document.getElementById('win-numbers'); winDiv.innerHTML = '';
                [data.drwtNo1, data.drwtNo2, data.drwtNo3, data.drwtNo4, data.drwtNo5, data.drwtNo6].forEach(n => {
                    const b = document.createElement('div'); b.className = `ball ${getColorClass(n)}`; b.innerText = n;
                    b.style.width='28px'; b.style.height='28px'; b.style.fontSize='13px'; winDiv.appendChild(b);
                });
            }
        } catch(e) { if(resultBox) resultBox.style.display = 'none'; }
    }
</script>
</body>
</html>
